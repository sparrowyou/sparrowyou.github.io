<!DOCTYPE HTML>
<html lang="zh-cn">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="网络协议, Sparrow">
    <meta name="description" content="Network communicationOSI (Open Systems Interconnection)OSI（开放系统互联）模型是一个概念性框架，将电信或网络系统的功能标准化为七个不同的层次。这些层次有助于通过将数据传输的复杂过程拆">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>网络协议 | Sparrow</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Sparrow</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>Index</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>Tags</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>Categories</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>Archives</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>About</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>Contact</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>Friends</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="Search" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Sparrow</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			Index
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			Tags
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			Categories
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			Archives
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			About
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			Contact
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			Friends
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/18.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">网络协议</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E9%80%9A%E4%BF%A1/">
                                <span class="chip bg-color">通信</span>
                            </a>
                        
                            <a href="/tags/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/">
                                <span class="chip bg-color">网络协议</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E9%80%9A%E4%BF%A1/" class="post-category">
                                通信
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2023-09-28
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.min.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="Network-communication"><a href="#Network-communication" class="headerlink" title="Network communication"></a>Network communication</h1><h2 id="OSI-Open-Systems-Interconnection"><a href="#OSI-Open-Systems-Interconnection" class="headerlink" title="OSI (Open Systems Interconnection)"></a>OSI (Open Systems Interconnection)</h2><p>OSI（开放系统互联）模型是一个概念性框架，将电信或网络系统的功能标准化为七个不同的层次。这些层次有助于通过将数据传输的复杂过程拆分为更易管理和模块化的组件来理解和设计通信系统。</p>
<table>
<thead>
<tr>
<th>OSI 模型层</th>
<th>功能</th>
<th>职责</th>
<th>工作流程</th>
<th>主要协议和技术</th>
</tr>
</thead>
<tbody><tr>
<td><strong>物理层</strong></td>
<td>OSI模型的最低层，处理物理介质和原始二进制数据传输。</td>
<td>编码、调制、传输、接收原始位，定义物理媒体的特性。</td>
<td>数据编码、数据传输、电压电流规范、物理接口。</td>
<td>电缆、连接器、网络接口</td>
</tr>
<tr>
<td><strong>数据链路层</strong></td>
<td>提供错误检测、纠正和数据帧分割，确保直接连接节点的数据可靠传输。</td>
<td>寻址、帧分割、错误检测和纠正、流量控制。</td>
<td>数据帧封装、地址分配（如MAC地址）、流量控制。</td>
<td>以太网、PPP等协议</td>
</tr>
<tr>
<td><strong>网络层</strong></td>
<td>在不同网络间路由数据包，处理逻辑寻址和数据包转发。</td>
<td>逻辑寻址（如IP地址）、路由、路径确定。</td>
<td>数据包分组、IP地址分配、根据目标地址路由。</td>
<td>IP（Internet Protocol）等协议</td>
</tr>
<tr>
<td><strong>传输层</strong></td>
<td>确保不同网络设备之间的端到端通信、可靠性和流量控制。</td>
<td>数据分段和重新组装、流量控制、错误检测、端到端通信。</td>
<td>数据分段、流量控制、错误检测、端到端通信。</td>
<td>TCP、UDP等协议</td>
</tr>
<tr>
<td><strong>会话层</strong></td>
<td>建立、维护和终止通信会话，管理会话同步和恢复。</td>
<td>会话的建立、维护和终止，会话中断时的同步和恢复。</td>
<td>会话建立、维护、终止、同步和恢复。</td>
<td></td>
</tr>
<tr>
<td><strong>表示层</strong></td>
<td>处理数据翻译、加密和压缩，确保数据可跨不同系统读取。</td>
<td>数据翻译、加密、压缩、字符编码。</td>
<td>数据格式转换、编码、加密、字符集转换。</td>
<td>数据翻译、加密、字符编码等技术</td>
</tr>
<tr>
<td><strong>应用层</strong></td>
<td>与最终用户应用程序进行交互，提供服务和接口。</td>
<td>应用程序特定功能、用户界面、通信服务。</td>
<td>用户应用程序与网络的交互、协议和服务。</td>
<td>HTTP、SMTP、FTP等协议</td>
</tr>
</tbody></table>
<blockquote>
<p>需要注意的是，OSI模型是一个理论性的框架，不直接对应现代网络技术的实现方式。相反，它作为一个概念性指南，用于理解网络通信，并经常用于讨论和比较网络协议和技术。在实际中，许多网络模型，如TCP/IP模型，简化了这些层次并合并了一些功能以提高效率和实用性。</p>
</blockquote>
<h2 id="TCP-IP"><a href="#TCP-IP" class="headerlink" title="TCP/IP"></a>TCP/IP</h2><blockquote>
<p>TCP/IP协议是互联网协议族中的一个协议。它是指传输控制协议（TCP，Transmission Control Protocol）和互联网协议（IP，Internet Protocol）的合称，用于在因特网中的不同计算机之间进行通信。</p>
</blockquote>
<blockquote>
<p>TCP/IP协议是一种面向连接的、可靠的、基于字节流的传输层通信协议。它提供了端到端的数据传输服务，保证了数据能够准确、完整地从一个节点传输到另一个节点。</p>
</blockquote>
<blockquote>
<p>TCP/IP协议是因特网的核心协议，它使得不同类型的计算机和网络能够互相通信。TCP/IP协议是由美国国防部高级研究计划局（ARPA）在20世纪60年代末期为了实现分布式计算机网络而设计开发的。</p>
</blockquote>
<p>TCP/IP协议是一种用于在不同的网络之间进行数据传输的协议族，它由四层或五层构成，每一层都有不同的功能和协议。TCP/IP协议的四层或五层分别是：</p>
<table>
<thead>
<tr>
<th>OSI 模型层</th>
<th>描述</th>
<th>举例和主要协议</th>
</tr>
</thead>
<tbody><tr>
<td><strong>应用层（Application Layer）</strong></td>
<td>提供应用程序所需的网络服务和通信协议，例如HTTP、SMTP、FTP等。</td>
<td>HTTP、SMTP、FTP等协议</td>
</tr>
<tr>
<td><strong>传输层（Transport Layer）</strong></td>
<td>提供端到端的可靠或不可靠的数据传输服务，实现流量控制和多路复用。例如TCP、UDP。</td>
<td>TCP、UDP等协议</td>
</tr>
<tr>
<td><strong>网络层（Network Layer）</strong></td>
<td>在多个网络之间进行数据包的路由和转发，实现网络互连和寻址。例如IP、ICMP、ARP。</td>
<td>IP、ICMP、ARP等协议</td>
</tr>
<tr>
<td><strong>数据链路层（Data Link Layer）</strong></td>
<td>建立可靠的数据传输，在物理链路上进行错误检测和纠正，定义数据帧格式和设备寻址。例如以太网协议。</td>
<td>以太网协议</td>
</tr>
<tr>
<td><strong>物理层（Physical Layer）</strong></td>
<td>负责传输比特流，定义物理传输介质和特性。例如双绞线、光纤、无线电波等。</td>
<td>双绞线、光纤、无线电波等传输介质</td>
</tr>
</tbody></table>
<blockquote>
<p>TCP/IP的四层协议将物理层和数据链路层合并为网络接口层，而五层协议则将它们分开。这样做的原因是，TCP/IP的四层协议是为了实现网络互连而设计的，它不关心具体的物理介质和链路技术，只关心如何在不同的网络之间传输数据。而五层协议则是为了学习网络原理而设计的，它更加细致地划分了每一层的功能和协议，以便于理解和分析</p>
</blockquote>
<h3 id="三次握手，建立连接"><a href="#三次握手，建立连接" class="headerlink" title="三次握手，建立连接"></a>三次握手，建立连接</h3><p>TCP（Transmission Control Protocol）是一种面向连接的协议，它使用三次握手来建立连接。下面是三次握手建立连接的具体过程：</p>
<ol>
<li><p><strong>客户端发送请求（SYN）：</strong></p>
<ul>
<li>客户端（通常是发起连接的一方）首先向服务器发送一个TCP报文段，这个报文段被称为”SYN”（同步）报文段。</li>
<li>这个报文段包含以下信息：<ul>
<li>初始序列号（ISN）：一个随机生成的序列号，用于标识报文段在数据流中的位置。</li>
<li>SYN标志位：被设置为1，表示这是一个连接请求。</li>
</ul>
</li>
<li>客户端选择一个随机的初始序列号，并向服务器发起连接请求。</li>
</ul>
</li>
<li><p><strong>服务器回应（SYN-ACK）：</strong></p>
<ul>
<li>一旦服务器收到客户端的SYN报文段，它会发送一个回应，称为”SYN-ACK”报文段，以确认连接请求。</li>
<li>这个报文段包含以下信息：<ul>
<li>确认序列号（ACK）：设置为客户端的初始序列号加1，表示服务器已经收到了客户端的请求。</li>
<li>初始序列号（ISN）：服务器选择一个随机的初始序列号，用于服务器和客户端之间的数据传输。</li>
<li>SYN标志位：被设置为1，表示这是对连接请求的确认。</li>
</ul>
</li>
<li>服务器同时也会把ACK标志位设置为1，表示它已经确认了客户端的请求，并且将其序列号设置为客户端的初始序列号加1。</li>
</ul>
</li>
<li><p><strong>客户端确认（ACK）：</strong></p>
<ul>
<li>最后，客户端收到服务器的SYN-ACK报文段后，会发送一个”ACK”（确认）报文段作为对服务器的确认。</li>
<li>这个报文段包含以下信息：<ul>
<li>确认序列号（ACK）：设置为服务器的初始序列号加1，表示客户端已经收到了服务器的确认。</li>
<li>SYN标志位：设置为0，因为此时连接已经建立，不再是一个连接请求。</li>
</ul>
</li>
<li>此时，连接已经建立，客户端和服务器可以开始通过这个连接进行数据传输。</li>
</ul>
</li>
</ol>
<blockquote>
<p>总结三次握手的过程：客户端首先发送一个SYN报文段来请求建立连接，服务器接收后回应一个SYN-ACK报文段以确认连接请求，最后客户端发送一个ACK报文段，表示连接已经建立。这个过程确保了客户端和服务器都同意建立连接，并且双方已经准备好开始数据传输。</p>
</blockquote>
<h3 id="四次挥手，断开连接"><a href="#四次挥手，断开连接" class="headerlink" title="四次挥手，断开连接"></a>四次挥手，断开连接</h3><p>TCP连接的四次握手是用于安全地关闭一个已经建立的连接。下面是四次握手断开连接的具体过程：</p>
<ol>
<li><p><strong>发起关闭请求（FIN）：</strong></p>
<ul>
<li>需要关闭连接的一方（通常是其中一方的应用程序）首先向对方发送一个TCP报文段，称为”FIN”（结束）报文段，以表示它希望关闭连接。</li>
<li>这个报文段包含以下信息：<ul>
<li>序列号（SEQ）：表示报文段的序列号。</li>
<li>FIN标志位：被设置为1，表示这是一个关闭请求。</li>
</ul>
</li>
<li>此时，发起关闭请求的一方进入FIN-WAIT状态，等待对方的确认。</li>
</ul>
</li>
<li><p><strong>确认关闭请求（ACK）：</strong></p>
<ul>
<li>接收到关闭请求的一方（通常为服务器）收到FIN报文段后，会发送一个确认报文段，其中ACK标志位被设置为1，表示已经收到了关闭请求。</li>
<li>这个确认报文段可能包含一些未确认的数据（如果还有未传输完的数据），因为TCP是全双工的，允许双方同时发送和接收数据。</li>
<li>此时，接收到关闭请求的一方进入CLOSE-WAIT状态，等待应用程序决定是否关闭连接。</li>
</ul>
</li>
<li><p><strong>服务器发送关闭请求（FIN）：</strong></p>
<ul>
<li>如果接收到关闭请求的一方（通常为服务器方）的应用程序也希望关闭连接，它会向另一方发送一个FIN报文段，表示它也要关闭连接。</li>
<li>这个FIN报文段包含相应的序列号和FIN标志位。</li>
<li>此时，发起关闭请求的一方接收到这个FIN报文段后，进入LAST-ACK状态，表示它已经接受到了关闭请求，但还需要一次确认。</li>
</ul>
</li>
<li><p><strong>确认关闭请求（ACK）：</strong></p>
<ul>
<li>最后，接收到关闭请求的一方（发起关闭请求的一方）再次发送一个确认报文段，其中ACK标志位被设置为1，表示已经收到了对方的关闭请求确认。</li>
<li>一旦另一方收到这个确认报文段，它会进入TIME-WAIT状态，等待足够长的时间，确保对方已经接收到了确认，然后才会关闭连接。</li>
<li>这个TIME-WAIT状态的等待时间是为了处理可能在网络中延迟的报文段，以确保连接的正常关闭。</li>
</ul>
</li>
</ol>
<p>一旦TIME-WAIT状态结束，连接就会被正式关闭，双方都可以安全地释放资源并结束连接。这个四次握手的过程确保了双方都同意关闭连接，并在关闭后处理可能存在的未传输完的数据和网络延迟。这提供了可靠的连接终止机制。</p>
<h1 id="Network-Protocol"><a href="#Network-Protocol" class="headerlink" title="Network Protocol"></a>Network Protocol</h1><p>无线传输技术按传输距离可划分为两类：</p>
<ol>
<li>低功耗、短距离、局域网通信技术(几米-几百米)：LP-LAN(Iow-power Local-Area Network)<br>包括<a href="#zigbee%E5%8D%8F%E8%AE%AE">Zigbee</a>、<a href="#wifi%E5%8D%8F%E8%AE%AE">WiFi</a>、<a href="#%E8%93%9D%E7%89%99%E5%8D%8F%E8%AE%AE">蓝牙</a>等为代表的短距离传输技术。</li>
<li>低功耗、长距离、广域网通信技术（几千米到几十千米）：LP-WAN(Iow-power Wide-Area Network)<br>LPWAN又可分为两类：<ol>
<li>工作于未授权免费频谱：如<a href="#lora">LoRa</a>、<a href="#sigfox">Sigfox</a>等技术；</li>
<li>工作于授权收费频谱下：3GPP支持的2/3/4/5G蜂窝通信技术，比如eMTC（enhanced machinetype of communication,增强机器类通信）、<a href="#nb-iot">NB-loT</a>(Narrow Band Internet of Things,窄带物联网)</li>
</ol>
</li>
</ol>
<h2 id="LP-LAN-Iow-power-Local-Area-Network"><a href="#LP-LAN-Iow-power-Local-Area-Network" class="headerlink" title="LP-LAN(Iow-power Local-Area Network)"></a>LP-LAN(Iow-power Local-Area Network)</h2><h3 id="WiFi"><a href="#WiFi" class="headerlink" title="WiFi"></a>WiFi</h3><p>Wi-Fi（无线局域网）是一种无线网络技术，用于无线数据传输和连接设备到互联网或局域网。Wi-Fi传输协议是定义Wi-Fi网络如何工作的一组规则和标准。以下是一些Wi-Fi传输协议的基本元素：</p>
<ol>
<li><p>[<strong>IEEE 802.11协议族</strong>](：IEEE（电子与电气工程师协会）定义了一系列的Wi-Fi标准，通常以802.11开头。这些标准包括802.11a、802.11b、802.11g、802.11n、802.11ac和802.11ax等。每个标准都定义了不同的频段、传输速率、信道宽度和其他参数，以满足不同的无线通信需求。</p>
</li>
<li><p><strong>无线接入点（Access Point）</strong>：Wi-Fi网络通常包括一个或多个无线接入点，它们充当中继站点，将有线网络连接扩展到无线设备。Wi-Fi接入点通常遵循802.11标准，以创建可用于连接的无线网络。</p>
</li>
<li><p><strong>WEP（Wired Equivalent Privacy）</strong>：WEP是早期的Wi-Fi安全协议，用于加密数据传输。然而，WEP已经被证明不安全，易于破解，不建议使用。</p>
</li>
<li><p><strong>WPA（Wi-Fi Protected Access）</strong>：WPA是WEP的替代品，提供更强的安全性。WPA使用TKIP（Temporal Key Integrity Protocol）或更强的AES（Advanced Encryption Standard）加密算法来保护数据传输。</p>
</li>
<li><p><strong>WPA2和WPA3</strong>：WPA2是WPA的进化版本，使用更强的加密算法，如CCMP（Counter Mode with Cipher Block Chaining Message Authentication Code Protocol）。WPA3是WPA2的下一代，引入更多的安全功能，提供更好的保护。</p>
</li>
<li><p><strong>SSID（Service Set Identifier）</strong>：SSID是Wi-Fi网络的名称，用于区分不同的网络。当您搜索可用的Wi-Fi网络时，会看到各种SSID，您可以选择连接到其中一个。</p>
</li>
<li><p><strong>MAC地址过滤</strong>：许多Wi-Fi路由器支持MAC地址过滤，这意味着只有在已经授权的设备的MAC地址在路由器中注册时才能连接到网络。这提供了一定的安全性，但也需要管理员手动管理。</p>
</li>
<li><p><strong>频段</strong>：Wi-Fi运行在2.4 GHz和5 GHz频段。2.4 GHz频段通常有更好的穿透性，但更容易受到干扰，5 GHz频段提供更高的速度和更少的干扰。</p>
</li>
<li><p><strong>双频Wi-Fi</strong>：某些路由器支持同时在2.4 GHz和5 GHz频段上运行，以提供更好的性能和覆盖范围。</p>
</li>
<li><p><strong>Mesh网络</strong>：Mesh网络是一种Wi-Fi配置，其中多个无线接入点协同工作，以覆盖大面积区域并提供更好的覆盖范围和性能。</p>
</li>
</ol>
<h4 id="WiFi协议栈"><a href="#WiFi协议栈" class="headerlink" title="WiFi协议栈"></a>WiFi协议栈</h4><p>Wi-Fi协议栈是一种层次化的网络协议体系结构，用于描述Wi-Fi网络通信的各个层次和组件。这个协议栈通常可以划分为以下不同的层次，类似于OSI（开放系统互连）模型的七层协议模型：</p>
<ol>
<li><p><strong>物理层（Physical Layer）</strong>：物理层是Wi-Fi协议栈的底层，负责处理与物理媒体（空气）的交互。它定义了Wi-Fi信号的传输方式、频段、调制解调方式以及无线传输的一些特性。不同的Wi-Fi标准可以在不同的频段上运行，例如2.4 GHz和5 GHz。</p>
</li>
<li><p><strong>数据链路层（Data Link Layer）</strong>：数据链路层分为两个子层：</p>
<ul>
<li><p><strong>逻辑链路控制（Logical Link Control，LLC）</strong>：LLC子层负责处理数据帧的逻辑控制，例如帧的识别和数据帧的路由。</p>
</li>
<li><p><strong>介质访问控制（Medium Access Control，MAC）</strong>：MAC子层负责管理多个设备在共享无线媒体上的访问。它定义了如何分配时间片（时间分割多路复用）、如何处理冲突以及如何进行帧的发送和接收。</p>
</li>
</ul>
</li>
<li><p><strong>网络层（Network Layer）</strong>：网络层负责处理设备之间的路由和数据包转发。在Wi-Fi网络中，通常使用的是IP协议（Internet Protocol）来管理设备的地址分配和数据包的路由。</p>
</li>
<li><p><strong>传输层（Transport Layer）</strong>：传输层负责提供端到端的通信服务，通常使用TCP（Transmission Control Protocol）或UDP（User Datagram Protocol）来管理数据包的可靠传输。</p>
</li>
<li><p><strong>会话层（Session Layer）</strong>：在Wi-Fi协议栈中，通常没有专门的会话层，因为Wi-Fi通常在OSI模型之上运行，而不直接处理会话级别的通信。</p>
</li>
<li><p><strong>表示层（Presentation Layer）</strong>：与会话层一样，Wi-Fi协议栈通常不包括专门的表示层，因为它们主要关注物理层到传输层之间的数据处理。</p>
</li>
<li><p><strong>应用层（Application Layer）</strong>：应用层包含各种应用程序和协议，它们使用Wi-Fi网络进行通信。这包括Web浏览器、电子邮件客户端、视频流媒体应用程序等。</p>
</li>
</ol>
<blockquote>
<p>Wi-Fi协议栈是一个多层次的网络协议堆栈，每个层次都有特定的功能和责任。这个堆栈允许Wi-Fi设备在无线网络上进行通信，从物理层的无线信号传输到应用层的网络应用程序。不同的Wi-Fi标准和技术可以在这个通用协议栈的基础上进行扩展和定制，以满足不同的通信需求。</p>
</blockquote>
<h4 id="WiFi所用技术"><a href="#WiFi所用技术" class="headerlink" title="WiFi所用技术"></a>WiFi所用技术</h4><p>Wi-Fi（无线局域网）技术涉及多个方面，包括物理层和数据链路层的技术，以及网络和安全性方面的技术。以下是Wi-Fi所用到的关键技术：</p>
<ol>
<li><p><strong>物理层技术</strong>：</p>
<p>a. <strong>频段</strong>：Wi-Fi工作在不同的频段，如2.4 GHz和5 GHz。不同频段有不同的特性，2.4 GHz信号穿透性较好，但容易受到干扰，而5 GHz提供更高的速度和更少的干扰。</p>
<p>b. <strong>调制解调技术</strong>：Wi-Fi使用不同的调制解调技术来传输数据，包括QPSK、16-QAM、64-QAM等，这些技术决定了每个符号传输多少比特。</p>
<p>c. <strong>MIMO（Multiple Input Multiple Output）</strong>：MIMO技术允许设备使用多个天线来同时传输和接收多个数据流，提高了数据传输速度和可靠性。</p>
</li>
<li><p><strong>数据链路层技术</strong>：</p>
<p>a. <strong>CSMA/CA（Carrier Sense Multiple Access with Collision Avoidance）</strong>：这是一种多访问技术，用于协调多个设备在共享无线媒体上的访问，以防止碰撞。</p>
<p>b. <strong>帧结构</strong>：Wi-Fi数据通过不同类型的帧进行传输，包括管理帧、控制帧和数据帧，每种帧类型有不同的功能和用途。</p>
<p>c. <strong>帧聚合</strong>：802.11n以及更高版本的Wi-Fi标准支持帧聚合，将多个数据帧组合成一个较大的帧，以提高效率。</p>
</li>
<li><p><strong>网络技术</strong>：</p>
<p>a. <strong>IP协议</strong>：Wi-Fi网络通常运行在TCP/IP协议栈之上，使用IP地址来标识和路由数据包。</p>
<p>b. <strong>DHCP（Dynamic Host Configuration Protocol）</strong>：DHCP用于自动分配IP地址给连接到Wi-Fi网络的设备，简化了网络配置。</p>
<p>c. <strong>NAT（Network Address Translation）</strong>：NAT用于将内部网络中的多个设备映射到单个公共IP地址，允许多个设备共享一个IP地址访问互联网。</p>
</li>
<li><p><strong>安全性技术</strong>：</p>
<p>a. <strong>WEP（Wired Equivalent Privacy）</strong>：虽然不再安全，但WEP曾经用于对Wi-Fi数据进行基本的加密。</p>
<p>b. <strong>WPA（Wi-Fi Protected Access）</strong>：WPA是一种更安全的加密协议，使用TKIP或AES加密算法来保护数据传输。</p>
<p>c. <strong>WPA2和WPA3</strong>：WPA2和WPA3是WPA的进化版本，提供更强的安全性，采用更先进的加密和认证技术。</p>
<p>d. <strong>802.1X认证</strong>：802.1X认证用于身份验证设备并授权其访问Wi-Fi网络。</p>
</li>
<li><p><strong>管理和漫游技术</strong>：</p>
<p>a. <strong>SSID（Service Set Identifier）</strong>：SSID用于标识无线网络，用户可以选择连接到的网络。</p>
<p>b. <strong>漫游</strong>：漫游允许设备在不同的接入点之间切换，以保持网络连接的连续性。</p>
</li>
</ol>
<blockquote>
<p>Wi-Fi技术包括多个层次的技术，从物理层到网络层和安全性层，以实现无线数据传输和连接。这些技术不断发展和改进，以满足不断增长的无线通信需求，并提供更好的性能、安全性和可靠性。</p>
</blockquote>
<h4 id="Wi-Fi协议的传输框架和工作原理"><a href="#Wi-Fi协议的传输框架和工作原理" class="headerlink" title="Wi-Fi协议的传输框架和工作原理"></a>Wi-Fi协议的传输框架和工作原理</h4><p><strong>1. 传输框架（Frame Structure）：</strong></p>
<p>Wi-Fi数据传输使用不同类型的帧（frame）来组织和传输数据。这些帧主要包括以下几种类型：</p>
<ul>
<li><p><strong>管理帧（Management Frames）</strong>：管理帧用于建立和管理Wi-Fi连接，包括扫描附近的网络、建立连接、认证和协商加密等。例如，关联请求（Association Request）和关联响应（Association Response）是用于建立连接的管理帧。</p>
</li>
<li><p><strong>控制帧（Control Frames）</strong>：控制帧用于控制数据传输和管理网络拓扑，例如，通知接收方暂停传输或重新发送数据等。控制帧对于Wi-Fi网络的正常运行至关重要。</p>
</li>
<li><p><strong>数据帧（Data Frames）</strong>：数据帧用于传输实际数据，例如，从一个设备发送到另一个设备的数据包。数据帧包含了数据的有效载荷，以及一些控制信息，如源地址和目的地址。</p>
</li>
</ul>
<p><strong>2. 工作原理：</strong></p>
<ul>
<li><p><strong>Access Point (AP)（接入点）</strong>：Wi-Fi网络通常由一个或多个接入点组成，它们是连接无线设备到有线网络的桥梁。接入点负责无线设备的关联和数据传输。</p>
</li>
<li><p><strong>无线设备</strong>：这些设备可以是笔记本电脑、智能手机、平板电脑、IoT设备等，它们通过Wi-Fi接口与接入点连接。</p>
</li>
<li><p><strong>SSID（Service Set Identifier）</strong>：SSID是一个用于识别Wi-Fi网络的名称。当您搜索可用的Wi-Fi网络时，将看到各种SSID，您可以选择要连接的网络。</p>
</li>
<li><p><strong>关联（Association）</strong>：在设备连接到Wi-Fi网络之前，它必须与接入点建立关联。关联涉及设备发送关联请求帧，接入点回应关联响应帧，之后设备就可以与网络通信。</p>
</li>
<li><p><strong>认证（Authentication）</strong>：认证是另一个安全步骤，确保设备有权限连接到网络。常见的认证方法包括使用预共享密钥（PSK）或基于802.1X的认证。</p>
</li>
<li><p><strong>加密（Encryption）</strong>：为了保护数据的机密性，Wi-Fi网络通常使用加密算法对数据进行加密。常见的加密方法包括WEP、WPA2和WPA3。</p>
</li>
<li><p><strong>信道管理（Channel Management）</strong>：Wi-Fi网络运行在不同的频段，如2.4 GHz和5 GHz，这些频段被分成多个信道。信道管理是确保不同网络之间不干扰的重要部分。</p>
</li>
<li><p><strong>漫游（Roaming）</strong>：当无线设备在网络覆盖范围内移动时，它可以自动切换到最强信号的接入点，以确保稳定的连接。</p>
</li>
</ul>
<blockquote>
<p>Wi-Fi的工作原理涉及上述步骤，设备通过管理帧和数据帧在网络中通信，接入点和其他设备根据协议来协调通信，确保数据的可靠传输和网络的稳定性。同时，Wi-Fi网络还提供了各种安全措施，以确保数据的保密性和完整性。</p>
</blockquote>
<h3 id="蓝牙"><a href="#蓝牙" class="headerlink" title="蓝牙"></a>蓝牙</h3><p>蓝牙通信协议是一组规范，用于在短距离范围内（通常为数米）实现无线数据传输和连接设备。蓝牙通信协议定义了通信设备之间的通信方式、数据传输速率、电源管理和安全性等方面的规则。以下是蓝牙通信协议的关键部分：</p>
<ol>
<li><p><strong>蓝牙核心规范</strong>：</p>
<ul>
<li><p><strong>物理层</strong>：蓝牙设备通常使用2.4 GHz的ISM（工业、科学和医疗）频段进行通信，采用GFSK（Gaussian Frequency Shift Keying）调制方式。物理层规范定义了无线传输的基本参数。</p>
</li>
<li><p><strong>数据链路层</strong>：蓝牙数据链路层包括两个子层：主从子层和逻辑链路控制子层（LLC）。主从子层负责建立连接并进行数据传输，而LLC子层处理逻辑链路控制和数据帧管理。</p>
</li>
</ul>
</li>
<li><p><strong>蓝牙通信模式</strong>：</p>
<ul>
<li><p><strong>经典蓝牙</strong>：用于传输音频、数据和图像等多种类型的信息。包括蓝牙基本速率（BR）和增强数据速率（EDR）两种模式，支持最高3 Mbps的数据传输速率。</p>
</li>
<li><p><strong>低功耗蓝牙（Bluetooth Low Energy，BLE）</strong>：设计用于低功耗设备，如传感器、健康监测设备和可穿戴设备。BLE具有较低的数据传输速率，但非常节能，允许设备在数月或数年内持续运行。</p>
</li>
</ul>
</li>
<li><p><strong>蓝牙连接和通信</strong>：</p>
<ul>
<li><p><strong>蓝牙连接</strong>：蓝牙设备可以建立点对点连接（例如，手机与耳机）或点对多点连接（例如，手机与多个耳机）。连接由一个主设备和一个或多个从设备组成。</p>
</li>
<li><p><strong>蓝牙服务和特征</strong>：蓝牙设备通过服务和特征来组织和交换数据。服务表示设备可提供的功能，而特征表示服务中的数据点。</p>
</li>
<li><p><strong>蓝牙配置文件</strong>：蓝牙配置文件定义了特定用途的设备之间的通信方式。例如，HFP（Hands-Free Profile）用于蓝牙耳机和手机之间的通话。</p>
</li>
</ul>
</li>
<li><p><strong>蓝牙安全性</strong>：</p>
<ul>
<li><p><strong>蓝牙配对</strong>：为了建立安全连接，蓝牙设备需要在配对过程中交换密钥。常见的配对方法包括PIN码输入、数字签名和自动确认。</p>
</li>
<li><p><strong>数据加密</strong>：蓝牙支持数据加密，以保护数据的机密性。通常使用AES（Advanced Encryption Standard）加密算法来加密传输的数据。</p>
</li>
</ul>
</li>
<li><p><strong>蓝牙应用</strong>：</p>
<ul>
<li><p><strong>音频传输</strong>：蓝牙用于耳机、音箱、车载音响等音频设备的连接和音频传输。</p>
</li>
<li><p><strong>数据传输</strong>：蓝牙用于文件传输、数据同步和键盘鼠标等外设的连接。</p>
</li>
<li><p><strong>位置服务</strong>：BLE用于定位和跟踪设备，如室内导航和物品追踪。</p>
</li>
<li><p><strong>健康和医疗设备</strong>：BLE用于连接健康监测设备、心率监测器和药品管理器等。</p>
</li>
</ul>
</li>
</ol>
<blockquote>
<p>蓝牙通信协议的灵活性和广泛应用使其成为连接各种设备和实现无线通信的重要技术。无论是通过经典蓝牙还是低功耗蓝牙，蓝牙技术都在多个领域提供了便捷的无线通信解决方案。</p>
</blockquote>
<h4 id="蓝牙协议栈"><a href="#蓝牙协议栈" class="headerlink" title="蓝牙协议栈"></a>蓝牙协议栈</h4><p>蓝牙协议栈是一组层次化的协议和协议层，用于管理蓝牙设备之间的通信。它定义了蓝牙通信的各个层次和组件，包括物理层、链路层、主机控制器接口（HCI）、L2CAP（逻辑链路控制和适配层协议）、SDP（服务发现协议）、RFCOMM（串行端口协议）和各种蓝牙配置文件。以下是蓝牙协议栈的主要组成部分：</p>
<ol>
<li><p><strong>物理层</strong>：蓝牙物理层定义了蓝牙设备之间的无线通信方式，包括频率、调制方式和传输功率。蓝牙通常在2.4 GHz ISM（工业、科学和医疗）频段上运行，使用频率跳跃扩频技术。</p>
</li>
<li><p><strong>链路层</strong>：链路层包括两个子层，即主从子层和逻辑链路控制子层（LLC）。主从子层负责建立连接和管理数据传输，而LLC子层处理逻辑链路控制和数据帧管理。</p>
</li>
<li><p><strong>主机控制器接口（HCI）</strong>：HCI定义了蓝牙协议栈与蓝牙硬件之间的接口，允许上层协议栈与底层硬件通信。HCI层负责将高级命令翻译成硬件操作，同时处理来自硬件的事件和数据。</p>
</li>
<li><p><strong>逻辑链路控制和适配层协议（L2CAP）</strong>：L2CAP层用于管理数据分组的传输，支持可靠和不可靠的数据传输。它还允许多个逻辑通道的复用和分解。</p>
</li>
<li><p><strong>服务发现协议（SDP）</strong>：SDP用于发现和描述远程蓝牙设备提供的服务和特性。它允许设备查找和连接到特定的蓝牙服务。</p>
</li>
<li><p><strong>串行端口协议（RFCOMM）</strong>：RFCOMM是蓝牙协议栈中的串行端口协议，允许模拟串口连接，使蓝牙设备可以与传统串口设备进行通信。</p>
</li>
<li><p><a href="#%E8%93%9D%E7%89%99%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><strong>蓝牙配置文件</strong></a>：蓝牙配置文件定义了设备之间通信的规则和协议，以满足特定用途的需求。例如，蓝牙耳机和手机之间的通信可能使用Hands-Free Profile（HFP）配置文件。</p>
</li>
</ol>
<blockquote>
<p>蓝牙协议栈的灵活性和可扩展性使其适用于各种不同类型的应用，从音频传输到数据同步，再到位置服务和健康监测。不同的设备可以使用不同的配置文件和协议来满足其通信需求。这个协议栈的层次化结构使蓝牙设备能够有效地进行通信，并支持各种蓝牙应用的开发和部署。</p>
</blockquote>
<h4 id="蓝牙通信框架和工作方式"><a href="#蓝牙通信框架和工作方式" class="headerlink" title="蓝牙通信框架和工作方式"></a>蓝牙通信框架和工作方式</h4><p>蓝牙通信协议的通信框架和工作方式是建立在蓝牙核心规范之上的，用于在蓝牙设备之间实现无线通信的基本结构和原理。下面是蓝牙协议的通信框架和工作方式的概述：</p>
<p><strong>通信框架</strong>：</p>
<ol>
<li><p><strong>蓝牙设备</strong>：蓝牙通信涉及两个或多个蓝牙设备，它们可以是手机、耳机、键盘、鼠标、传感器、汽车音响等各种设备。</p>
</li>
<li><p><strong>蓝牙协议栈</strong>：蓝牙协议栈是一组层次化的协议和协议层，它们规定了蓝牙设备之间的通信方式和规则。协议栈包括物理层、数据链路层、主机控制器接口（Host Controller Interface，HCI）、蓝牙管理器等。</p>
</li>
<li><p><strong>蓝牙连接</strong>：蓝牙设备之间建立连接是通信的第一步。通常，一个设备充当主设备（Master），而其他设备充当从设备（Slave）。主设备负责管理连接，从设备响应主设备的请求。</p>
</li>
<li><p><strong>蓝牙配置文件和服务</strong>：蓝牙通信依赖于配置文件和服务的定义，它们描述了设备之间可以交换的数据和功能。例如，蓝牙耳机和手机之间的通信可能使用Hands-Free Profile（HFP）配置文件。</p>
</li>
<li><p><strong>蓝牙特征和描述符</strong>：配置文件中的服务包含一个或多个特征，特征包含要交换的具体数据或命令。特征通常有相关的描述符，用于描述特征的属性和数据格式。</p>
</li>
</ol>
<p><strong>工作方式</strong>：</p>
<ol>
<li><p><strong>设备发现和配对</strong>：在建立连接之前，蓝牙设备必须进行发现和配对过程。设备会广播其存在，并等待其他设备响应。一旦两个设备发现彼此，它们可以进行配对，这通常涉及到安全的密钥交换。</p>
</li>
<li><p><strong>连接建立</strong>：一旦设备配对成功，它们可以建立连接。连接过程包括主设备和从设备之间的通信协商，选择通信通道和频率等。</p>
</li>
<li><p><strong>数据传输</strong>：一旦连接建立，设备可以开始交换数据。数据传输可以是双向的，涉及从一个设备发送数据并在另一个设备上接收数据。数据传输的速率和方式取决于设备的蓝牙版本和配置。</p>
</li>
<li><p><strong>断开连接</strong>：设备可以随时断开连接。连接可以是主动断开（由设备发起）或被动断开（由另一个设备或外部因素引起）。</p>
</li>
<li><p><strong>电源管理</strong>：蓝牙设备通常具有电源管理功能，可以进入低功耗模式以延长电池寿命。这在低功耗蓝牙（BLE）设备中尤为重要。</p>
</li>
</ol>
<blockquote>
<p>蓝牙通信协议的工作方式涉及设备之间的发现、配对、连接、数据传输和断开连接等步骤，所有这些都受到蓝牙核心规范的规则和定义的影响。</p>
</blockquote>
<h3 id="Zigbee"><a href="#Zigbee" class="headerlink" title="Zigbee"></a>Zigbee</h3><p>Zigbee是一种低功耗、短距离、无线通信协议，专为物联网（IoT）设备和传感器之间的通信而设计。它基于IEEE 802.15.4标准，并提供了一种低成本、低功耗的无线通信解决方案。</p>
<h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><ol>
<li><p><strong>低功耗：</strong> Zigbee设备通常在电池供电下工作，并采用了一系列的低功耗技术，包括睡眠模式和功率管理，以延长电池寿命。</p>
</li>
<li><p><strong>自组织mesh网络：</strong> Zigbee设备可以自动建立和维护自组织的网络，其中一个设备充当协调器（Coordinator），而其他设备（终端设备或路由器设备）加入网络并与协调器通信。</p>
</li>
<li><p><strong>低数据速率：</strong> Zigbee的数据传输速率通常较低，适用于传感器、监控和控制应用，而不是高带宽的数据传输。</p>
</li>
<li><p><strong>短距离通信：</strong> Zigbee通信通常在几十米到数百米的范围内，适用于局部网络和低范围设备之间的通信。</p>
</li>
<li><p><strong>多通道和多频率：</strong> Zigbee支持多通道和多频率操作，以减少干扰和提高可靠性。</p>
</li>
<li><p><strong>安全性：</strong> Zigbee提供了多种安全特性，包括加密、身份验证和密钥管理，以保护通信中的数据安全。</p>
</li>
</ol>
<h4 id="Zigbee通信框架："><a href="#Zigbee通信框架：" class="headerlink" title="Zigbee通信框架："></a>Zigbee通信框架：</h4><p>Zigbee通信框架包括协调器（Coordinator）、路由器设备（Router Device）和终端设备（End Device），这些设备协同工作以建立和维护Zigbee网络。</p>
<ol>
<li><p><strong>协调器（Coordinator）：</strong></p>
<ul>
<li>每个Zigbee网络中都有一个协调器，通常是一个主设备，负责管理整个网络。</li>
<li>协调器负责创建网络、处理加入请求、分配短地址和长地址、管理路由信息，以及协调设备之间的通信。</li>
</ul>
</li>
<li><p><strong>路由器设备（Router Device）：</strong></p>
<ul>
<li>路由器设备具有中继数据的功能，它们帮助扩展网络范围和提高通信可靠性。</li>
<li>路由器设备可以处理数据转发，允许数据在网络中传递，从而构建多跳（multi-hop）通信路径。</li>
</ul>
</li>
<li><p><strong>终端设备（End Device）：</strong></p>
<ul>
<li>终端设备是低功耗设备，通常由电池供电，它们可以与协调器或路由器设备通信，但不能用于中继数据。</li>
<li>终端设备通常处于睡眠模式，以延长电池寿命，只在需要发送或接收数据时才唤醒。</li>
</ul>
</li>
</ol>
<h4 id="Zigbee通信工作流程："><a href="#Zigbee通信工作流程：" class="headerlink" title="Zigbee通信工作流程："></a>Zigbee通信工作流程：</h4><ol>
<li><p><strong>网络初始化：</strong></p>
<ul>
<li>协调器初始化网络并分配短地址和长地址给参与的设备。</li>
<li>路由器设备加入网络并建立与协调器的连接。</li>
</ul>
</li>
<li><p><strong>设备加入：</strong></p>
<ul>
<li>新设备想要加入Zigbee网络时，它会发送一个加入请求给协调器或路由器。</li>
<li>协调器或路由器确认并分配地址给新设备，将其纳入网络。</li>
</ul>
</li>
<li><p><strong>数据传输：</strong></p>
<ul>
<li>当设备想要传输数据时，它会封装数据成为数据帧，并将其发送给目标设备。</li>
<li>如果目标设备不在直接通信范围内，数据将通过路由器设备中继到达目标设备。</li>
</ul>
</li>
<li><p><strong>自组织网络：</strong></p>
<ul>
<li>Zigbee网络是自组织的，设备之间可以根据需要重新组织通信路径。</li>
<li>路由器设备可用于创建多跳通信路径，以便在设备之间进行数据中继。</li>
</ul>
</li>
<li><p><strong>低功耗模式：</strong></p>
<ul>
<li>终端设备通常处于睡眠模式，以节省能量。它们会定期唤醒以接收来自协调器或路由器的数据。</li>
</ul>
</li>
<li><p><strong>安全性：</strong></p>
<ul>
<li>Zigbee提供了安全特性，包括数据加密和身份验证，以保护通信的安全性。</li>
</ul>
</li>
</ol>
<p>总结来说，Zigbee协议的通信框架基于自组织的网络，包括协调器、路由器设备和终端设备。通信工作流程涉及设备的加入、数据传输、网络管理和低功耗模式。这使Zigbee成为物联网设备之间低功耗、可靠通信的理想协议。</p>
<blockquote>
<p>Zigbee是一种用于低功耗、短距离、无线通信的协议，适用于许多不同的物联网应用领域。它的自组织网络能力、低功耗特性和安全性使其成为物联网设备之间通信的理想选择。</p>
</blockquote>
<h3 id="三种技术间的区别"><a href="#三种技术间的区别" class="headerlink" title="三种技术间的区别"></a>三种技术间的区别</h3><table>
<thead>
<tr>
<th>技术</th>
<th>WiFi</th>
<th>蓝牙</th>
<th>Zigbee</th>
</tr>
</thead>
<tbody><tr>
<td>覆盖范围</td>
<td>100-300米，受环境影响</td>
<td>2-30米，受环境影响</td>
<td>50-300米，受环境影响</td>
</tr>
<tr>
<td>关键技术</td>
<td>OFDM调制，支持多用户多入</td>
<td>FHSS调制，支持多用户多入</td>
<td>DSSS调制，支持多用户多入</td>
</tr>
<tr>
<td>网络拓扑结构</td>
<td>星型或网状，支持WiFi Mesh</td>
<td>星型或网状，支持Sig Mesh</td>
<td>星型或网状，支持自组网和星型网络</td>
</tr>
<tr>
<td>频段</td>
<td>2.4GHz或5.8GHz</td>
<td>2.4GHz</td>
<td>2.4GHz或868/915MHz</td>
</tr>
<tr>
<td>带宽</td>
<td>20-160MHz</td>
<td>1MHz</td>
<td>0.6-2MHz</td>
</tr>
<tr>
<td>传输速率</td>
<td>高，可达300Mbps</td>
<td>中等，可达1Mbps</td>
<td>低，250kbps</td>
</tr>
<tr>
<td>安全性</td>
<td>WPA2加密算法，保证通信的安全性</td>
<td>AES加密算法，保证通信的安全性</td>
<td>AES加密算法，保证通信的安全性</td>
</tr>
<tr>
<td>电池寿命</td>
<td>短，几小时至几天，受使用频率和数据量影响</td>
<td>中等，几个月至几年，受使用频率和数据量影响</td>
<td>长，几年至十几年，受使用频率和数据量影响</td>
</tr>
<tr>
<td>互操作性</td>
<td>高，可以与任何支持WiFi技术的设备互操作</td>
<td>高，可以与任何支持蓝牙技术的设备互操作</td>
<td>中等，需要使用Zigbee协议栈和Zigbee网关设备</td>
</tr>
<tr>
<td>成本</td>
<td>中等至高，芯片成本高，需付授权费用</td>
<td>低，芯片成本低，无需付授权费用</td>
<td>高，芯片成本高，需付授权费用</td>
</tr>
<tr>
<td>适用场景</td>
<td>主要应用于高传输速率的场合，比如移动设备连接互联网、监控摄像头等。对稳定性、功耗等不敏感的场合。</td>
<td>主要应用于低成本低功耗的场合，比如智能手环、智能音箱、智能家居等。对传输速率和距离不敏感的场合。</td>
<td>主要应用于工业场合的组网。成本较高，但抗干扰性能强，组网稳定，延迟也较低。对传输速率和距离不敏感的场合。</td>
</tr>
</tbody></table>
<h2 id="LP-WAN-Iow-power-Wide-Area-Network"><a href="#LP-WAN-Iow-power-Wide-Area-Network" class="headerlink" title="LP-WAN(Iow-power Wide-Area Network)"></a>LP-WAN(Iow-power Wide-Area Network)</h2><h3 id="Lora"><a href="#Lora" class="headerlink" title="Lora"></a>Lora</h3><p>LoRa通信协议是一种用于低功耗、远距离无线通信的协议，适用于物联网（IoT）应用。LoRa（长程低功耗射频）技术采用了扩频调制方法，以实现在长距离范围内传输数据，并具有出色的抗干扰能力。LoRa通信协议通常分为两个主要变种：LoRaWAN和私有LoRa协议。</p>
<ol>
<li><p>LoRaWAN（LoRa Wide Area Network）：</p>
<p> LoRaWAN是一种公共开放标准的LoRa通信协议，旨在支持大规模的IoT应用。它具有以下主要特点：</p>
<ul>
<li><p><strong>开放标准</strong>：LoRaWAN是一个开放标准，可供不同厂商和组织使用，以确保互操作性。</p>
</li>
<li><p><a href="#%E6%98%9F%E5%9E%8B%E6%8B%93%E6%89%91"><strong>星型拓扑</strong></a>：LoRaWAN通常采用星型网络拓扑，其中终端设备通过LoRa网关连接到网络服务器。</p>
</li>
<li><p><strong>安全性</strong>：LoRaWAN提供了数据加密和认证机制，以确保数据的安全性和完整性。</p>
</li>
<li><p><strong>多类别服务质量</strong>：LoRaWAN支持不同的服务质量类别，包括低延迟、低功耗和高容量模式。</p>
</li>
<li><p><strong>设备管理</strong>：LoRaWAN定义了设备注册、激活和管理机制，以便有效地管理大规模设备。</p>
</li>
</ul>
</li>
<li><p>私有LoRa协议：</p>
<p> 私有LoRa协议通常由组织或企业自行开发和实施，用于特定应用场景。这些协议通常不开放给其他组织使用，因此缺乏LoRaWAN的互操作性。私有LoRa协议可以根据特定需求进行定制，适应特定的通信范围、数据速率和安全性需求。</p>
</li>
</ol>
<blockquote>
<p>无论是LoRaWAN还是私有LoRa协议，LoRa通信协议的工作原理基本相似。它们都使用LoRa调制技术，以扩频的方式传输数据，从而实现了长距离通信和低功耗。终端设备通过LoRa网关连接到网络，数据经过网络服务器路由到应用服务器进行处理。</p>
</blockquote>
<blockquote>
<p>LoRa通信协议是一种强大的通信技术，适用于各种IoT应用，包括智能城市、农业、工业自动化和环境监测等领域。不同的协议变种可以根据具体需求选择，以满足不同应用场景的要求。</p>
</blockquote>
<h4 id="LoRa协议栈"><a href="#LoRa协议栈" class="headerlink" title="LoRa协议栈"></a>LoRa协议栈</h4><ol>
<li><p><strong>物理层（Physical Layer）</strong>：物理层是LoRa协议栈的底层，负责无线通信的硬件和无线信号传输。它包括以下方面：</p>
<ul>
<li><a href="#%E6%89%A9%E9%A2%91%E8%B0%83%E5%88%B6"><strong>扩频调制（Spread Spectrum Modulation）</strong></a>：LoRa使用扩频技术来传输数据，以提供长距离和高抗干扰性。</li>
<li><strong>频率选择（Frequency Selection）</strong>：LoRa设备可以在不同的频段操作，以避免干扰和选择适当的通信频率。</li>
<li><strong>功率控制（Power Control）</strong>：LoRa设备通常使用低功率，以延长电池寿命，并减少干扰。</li>
</ul>
</li>
<li><p><strong>数据链路层（Data Link Layer）</strong>：数据链路层包括以下子层，用于管理数据传输的可靠性和安全性：</p>
<ul>
<li><strong>LoRaWAN MAC层（LoRaWAN Media Access Control Layer）</strong>：LoRaWAN（LoRa Wide Area Network）是LoRa协议栈中最常用的协议，它定义了如何处理数据的传输、接入、帧结构和设备管理等问题。</li>
<li><strong>适配层（Adaptation Layer）</strong>：适配层用于将上层应用程序数据适配到LoRaWAN MAC层。</li>
</ul>
</li>
<li><p><strong>网络层（Network Layer）</strong>：网络层负责路由和管理数据的流动，确保数据从终端设备到应用服务器的传输。网络层通常由LoRaWAN协议定义。</p>
</li>
<li><p><strong>应用层（Application Layer）</strong>：应用层包括应用程序和相关的协议，用于处理传输的数据。这是最高层，通常由应用开发人员定义。</p>
</li>
</ol>
<p>总之，LoRa协议栈是一个多层次的协议体系结构，旨在支持长距离、低功耗的物联网通信。物理层负责无线信号传输，数据链路层和网络层负责管理数据的可靠传输，应用层则用于处理和应用数据。不同的LoRa应用可以使用不同的协议层次，但LoRaWAN是最常见和广泛应用的协议。</p>
<h4 id="LoRa系统框架"><a href="#LoRa系统框架" class="headerlink" title="LoRa系统框架"></a>LoRa系统框架</h4><ol>
<li><p><strong>终端设备（End Devices）</strong>：终端设备是物联网设备，例如传感器、监控摄像头或其他传感器节点。它们通过LoRa无线通信与网关通信。</p>
</li>
<li><p><strong>LoRa网关（Gateway）</strong>：LoRa网关是连接终端设备与网络服务器的设备。它们通常位于城市或地区内，负责接收来自终端设备的数据，并将其传输到网络服务器。</p>
</li>
<li><p><strong>网络服务器（Network Server）</strong>：网络服务器负责管理多个LoRa网关，并处理终端设备的数据。它协调数据的传输和处理，以确保数据可靠地传送到应用服务器。</p>
</li>
<li><p><strong>应用服务器（Application Server）</strong>：应用服务器是最终数据处理的地方。它接收来自网络服务器的数据，并执行数据处理、存储或触发应用程序逻辑。</p>
</li>
<li><p><strong>云服务/应用程序（Cloud Services/Application）</strong>：在一些情况下，云服务可以进一步处理数据，或者应用程序可以提供用户界面和控制。</p>
</li>
</ol>
<h4 id="LoRa工作原理"><a href="#LoRa工作原理" class="headerlink" title="LoRa工作原理"></a>LoRa工作原理</h4><p>LoRa通信使用了一种调制技术，称为<strong>扩频调制（Spread Spectrum Modulation）</strong>，以在长距离范围内传输数据。<br>以下是LoRa通信的工作原理：</p>
<ol>
<li><p><strong>数据编码和调制</strong>：在终端设备中，要传输的数据被编码并调制为LoRa信号。这包括将数字数据转换为符号序列，并使用扩频技术将它们传输出去。</p>
</li>
<li><p><strong>LoRa射频传输</strong>：LoRa信号以低功耗的方式通过无线信道传输到附近的LoRa网关。LoRa的长距离传输特性使得信号可以在数千米的范围内传输，而且对于穿透性较强的物体也有良好的适应性。</p>
</li>
<li><p><strong>LoRa网关接收</strong>：LoRa网关接收来自多个终端设备的信号，并将它们传输到网络服务器。</p>
</li>
<li><p><strong>网络服务器处理</strong>：网络服务器接收到来自多个网关的数据，协调数据的处理和路由。它确保数据按照指定的应用程序逻辑传输到应用服务器。</p>
</li>
<li><p><strong>应用服务器处理</strong>：应用服务器接收数据并进行处理。这可以包括数据解码、验证、存储和触发相应的应用程序逻辑。</p>
</li>
<li><p><strong>反向传输</strong>：如果需要向终端设备发送命令或控制信号，应用服务器可以将数据传输回网络服务器，再由网络服务器传输回终端设备。</p>
</li>
</ol>
<blockquote>
<p>LoRa通信协议允许长距离、低功耗的数据传输，适用于广泛的物联网应用，如智能城市、农业监测、工业自动化等。它的灵活性和可扩展性使得它成为许多物联网解决方案的选择。</p>
</blockquote>
<h3 id="Sigfox"><a href="#Sigfox" class="headerlink" title="Sigfox"></a>Sigfox</h3><p>Sigfox技术是一种专门为低功耗、低成本、低数据量的物联网（IoT）和机器对机器（M2M）应用而设计的远程蜂窝无线通信技术。它使用超窄带（UNB）调制技术在公共频段下传输信号，具有高抗干扰能力和远距离覆盖能力。<br>Sigfox是一种低功耗、远距离通信的LPWAN技术，适用于各种物联网应用，包括智能城市、农业监测、工业自动化和环境监测等。由于其低成本和长时间运行的能力，Sigfox已经在全球范围内得到广泛应用。</p>
<h4 id="特点："><a href="#特点：" class="headerlink" title="特点："></a>特点：</h4><ol>
<li><p><strong>低功耗</strong>：Sigfox设备非常省电，因此适用于电池供电的远程设备，可以运行多年而不需要更换电池。</p>
</li>
<li><p><strong>远距离通信</strong>：Sigfox通信具有出色的通信范围，可以覆盖数十公里的距离，这使其在大范围区域内的设备连接方面非常有用。</p>
</li>
<li><p><strong>低数据速率</strong>：Sigfox通信速率相对较低，适用于传输小量数据，例如传感器读数或报警信息。</p>
</li>
<li><p><strong>成本效益</strong>：Sigfox的设备和服务通常成本较低，这使其成为许多低成本IoT应用的选择。</p>
</li>
<li><p><strong>云集成</strong>：Sigfox通常与云平台集成，以便设备数据可以轻松地上传到云端进行处理和存储。</p>
</li>
<li><p><strong>全球覆盖</strong>：Sigfox提供了全球性的网络覆盖，使设备可以在全球范围内连接到云服务。</p>
</li>
</ol>
<h4 id="通信框架："><a href="#通信框架：" class="headerlink" title="通信框架："></a>通信框架：</h4><ol>
<li><p><strong>设备（Devices）</strong>：Sigfox网络中的设备通常是物联网（IoT）设备，如传感器、追踪器或监控设备。这些设备用于采集数据并将其传输到Sigfox网络。</p>
</li>
<li><p><strong>Sigfox基站（Sigfox Base Stations）</strong>：Sigfox基站是部署在城市和农村地区的设备，负责接收来自设备的数据。它们使用特殊的硬件和通信协议与设备通信。</p>
</li>
<li><p><strong>Sigfox云平台（Sigfox Cloud Platform）</strong>：Sigfox云平台用于接收、处理和存储设备发送的数据。它还支持设备管理和安全性。</p>
</li>
<li><p><strong>应用程序服务器（Application Server）</strong>：应用程序服务器是可选的组件，用于进一步处理设备数据并执行特定的应用程序逻辑。它与Sigfox云平台集成，可以将数据传输到用户自定义的应用程序中。</p>
</li>
</ol>
<h4 id="工作流程："><a href="#工作流程：" class="headerlink" title="工作流程："></a>工作流程：</h4><ol>
<li><p><strong>设备数据采集</strong>：设备采集环境数据或其他相关信息，并将其准备好以供传输。这可以是温度、湿度、位置信息等等。</p>
</li>
<li><p><strong>数据传输</strong>：设备使用Sigfox通信协议将数据发送到最近的Sigfox基站。这通常涉及到设备以低功率发送小量数据。</p>
</li>
<li><p><strong>基站接收</strong>：Sigfox基站接收设备发送的数据，并对其进行处理。这些基站通常分布在城市和乡村，以提供广泛的覆盖范围。</p>
</li>
<li><p><strong>数据上传到Sigfox云平台</strong>：Sigfox基站将接收到的数据上传到Sigfox云平台。云平台会处理数据并存储它，以便用户后续访问和分析。</p>
</li>
<li><p><strong>应用程序服务器集成（可选）</strong>：如果用户需要进一步处理数据或将数据传输到自定义应用程序中，可以将应用程序服务器集成到Sigfox云平台中。应用程序服务器可以执行数据处理、警报触发或其他应用逻辑。</p>
</li>
<li><p><strong>用户应用程序</strong>：最终，用户可以访问Sigfox云平台或应用程序服务器，以查看和分析设备数据，执行控制操作或生成报告。</p>
</li>
</ol>
<h3 id="NB-IoT"><a href="#NB-IoT" class="headerlink" title="NB-IoT"></a>NB-IoT</h3><p>NB-IOT (Narrow Band Internet of Things)是物联网领域的一个新兴技术，支持低功耗设备在广域网的蜂窝数据连接，也被叫作低功耗广域网 (LPWAN)。NB-IOT基于蜂窝的窄带物联网，是3GPP LTE Release 13的新增网络协议，与现有LTE网络兼容. NB-IOT构建于蜂窝网络，只消耗大约180KHz的带宽，可直接部署于GSM网络、UMTS网络或LTE网络，以降低部署成本、实现平滑升级.</p>
<h4 id="主要特点："><a href="#主要特点：" class="headerlink" title="主要特点："></a>主要特点：</h4><ol>
<li><p><strong>低功耗：</strong> NB-IoT设备具有极低的功耗特性，可以长时间运行，通常使用电池供电。这使其非常适用于远程、难以维护的设备。</p>
</li>
<li><p><strong>长距离通信：</strong> NB-IoT通信具有出色的通信范围，可以覆盖几公里到数十公里的距离，这取决于信号强度和环境条件。</p>
</li>
<li><p><strong>窄带宽：</strong> NB-IoT通信采用窄带宽信号，通常在200 kHz以下，这有助于减少通信设备的功耗，同时允许多个设备在相同的频段上进行通信。</p>
</li>
<li><p><strong>低成本：</strong> NB-IoT设备成本相对较低，因为它们可以使用现有的移动通信基础设施和频谱资源。</p>
</li>
<li><p><strong>互操作性：</strong> NB-IoT是一个标准化的通信技术，确保不同厂商的设备可以互操作，并能够在全球范围内运行。</p>
</li>
<li><p><strong>安全性：</strong> NB-IoT通信具有内置的安全功能，包括数据加密和身份验证，以确保数据的保密性和完整性。</p>
</li>
</ol>
<h4 id="关键技术"><a href="#关键技术" class="headerlink" title="关键技术"></a>关键技术</h4><ol>
<li><p><strong>窄带宽调制（Narrowband Modulation）</strong>：NB-IoT通信使用窄带宽信号进行通信，通常在200 kHz以下。这种窄带宽信号可以有效减小功耗，并提供长距离通信能力。</p>
</li>
<li><p><strong>低功耗设计</strong>：NB-IoT设备采用了多种低功耗设计技术，包括深度睡眠模式、功耗优化的硬件和通信堆栈，以确保设备能够长时间运行，通常使用电池供电。</p>
</li>
<li><p><strong>覆盖增强技术</strong>：NB-IoT通过使用信号重复、波束成形和室内覆盖技术等方法来提高信号的覆盖范围，使其能够穿越障碍物和进入深层室内区域。</p>
</li>
<li><p><strong>信号增强技术</strong>：在低信号强度环境下，NB-IoT使用信号增强技术，如接收多路径信号、错误纠正码和自动重传请求（ARQ），以提高通信的可靠性。</p>
</li>
<li><p><strong>多连接技术</strong>：NB-IoT支持多设备同时连接到同一基站，这使其能够处理大规模的设备连接，同时提供高质量的服务。</p>
</li>
<li><p><strong>安全性技术</strong>：NB-IoT通信包括数据加密、身份验证和认证，以确保数据的保密性和完整性，防止未经授权的访问和攻击。</p>
</li>
<li><p><strong>频谱分配</strong>：NB-IoT通信通常使用现有的无线电频谱资源，以便降低运营商的成本，并提高物联网设备的互操作性。</p>
</li>
<li><p><strong>云集成</strong>：NB-IoT设备通常与云平台集成，以便设备数据可以上传到云端进行处理、存储和分析。</p>
</li>
<li><p><strong>低数据速率</strong>：NB-IoT通信通常以低数据速率传输小量数据，适用于传感器读数、监控信息等应用。</p>
</li>
<li><p><strong>全球覆盖</strong>：NB-IoT通信技术可以通过现有的4G和5G网络基础设施实现全球范围的覆盖，因此在全球范围内提供了通信服务。</p>
</li>
</ol>
<blockquote>
<p>这些关键技术使NB-IoT成为一种强大的低功耗广域网通信技术，适用于各种物联网应用，包括智能城市、农业、工业自动化、健康监测和环境监测等领域。它的特点包括长距离通信、低成本、低功耗和高度安全性，使其成为物联网设备的首选通信技术之一。</p>
</blockquote>
<h4 id="通信框架：-1"><a href="#通信框架：-1" class="headerlink" title="通信框架："></a>通信框架：</h4><p>NB-IoT通信框架包括以下关键组件：</p>
<ol>
<li><p><strong>NB-IoT设备</strong>：这些设备是物联网（IoT）设备，如传感器、监测器、计量器等，用于采集数据或执行特定任务。</p>
</li>
<li><p><strong>NB-IoT基站</strong>：NB-IoT基站是无线通信设备，用于与NB-IoT设备进行通信。它们通常由移动网络运营商部署，并负责管理通信连接。</p>
</li>
<li><p><strong>核心网络</strong>：核心网络是移动网络运营商的一部分，它负责管理设备的连接、数据传输和安全性。它包括各种功能，如数据路由、设备身份验证和计费。</p>
</li>
<li><p><strong>云平台</strong>：云平台通常是第三方提供的服务，用于接收、存储和处理来自NB-IoT设备的数据。它还支持数据分析、可视化和用户接口。</p>
</li>
<li><p><strong>应用程序服务器</strong>：应用程序服务器是用户自定义的服务器，用于进一步处理设备数据、生成警报、执行远程控制和集成到其他应用程序中。</p>
</li>
</ol>
<h4 id="工作流程：-1"><a href="#工作流程：-1" class="headerlink" title="工作流程："></a>工作流程：</h4><ol>
<li><p><strong>设备通信</strong>：</p>
<ul>
<li>NB-IoT设备采集环境数据或执行特定任务。</li>
<li>设备使用NB-IoT通信协议与最近的NB-IoT基站建立通信连接。</li>
</ul>
</li>
<li><p><strong>数据传输</strong>：</p>
<ul>
<li>设备将采集到的数据封装成数据包，并以低功耗方式发送给NB-IoT基站。</li>
<li>数据包经过NB-IoT基站的处理，包括数据解码和解密。</li>
</ul>
</li>
<li><p><strong>核心网络处理</strong>：</p>
<ul>
<li>NB-IoT基站将数据传输到核心网络，核心网络负责路由数据包并将其发送到目标位置。</li>
<li>核心网络执行设备身份验证，确保只有授权设备能够连接和传输数据。</li>
</ul>
</li>
<li><p><strong>数据上传到云平台</strong>：</p>
<ul>
<li>核心网络将数据上传到云平台，云平台接收并存储数据。</li>
<li>云平台可以执行数据处理、数据分析和可视化等操作，以帮助用户理解设备数据。</li>
</ul>
</li>
<li><p><strong>应用程序服务器集成（可选）</strong>：</p>
<ul>
<li>用户可以选择将应用程序服务器集成到云平台中，以进一步处理数据或执行特定的应用程序逻辑。</li>
<li>应用程序服务器可以执行警报生成、远程控制设备、数据分析等操作。</li>
</ul>
</li>
<li><p><strong>用户应用程序</strong>：</p>
<ul>
<li>最终，用户可以通过用户应用程序或Web界面访问云平台，以查看设备数据、生成报告、控制设备或执行其他操作。</li>
</ul>
</li>
</ol>
<blockquote>
<p>通过NB-IoT设备、基站、核心网络、云平台和应用程序服务器等组件，实现了设备数据的采集、传输、处理和分析。这使用户能够实时监控和管理物联网设备，从而支持各种应用场景，包括智能城市、农业、工业自动化和健康监测。</p>
</blockquote>
<h3 id="Lora，Sigfox，NB-IoT比较"><a href="#Lora，Sigfox，NB-IoT比较" class="headerlink" title="Lora，Sigfox，NB-IoT比较"></a>Lora，Sigfox，NB-IoT比较</h3><table>
<thead>
<tr>
<th>技术</th>
<th>LoRa</th>
<th>Sigfox</th>
<th>NB-IoT</th>
</tr>
</thead>
<tbody><tr>
<td><strong>覆盖范围</strong></td>
<td>1-20公里，受环境影响</td>
<td>3-50公里，受环境影响</td>
<td>15公里以上，信号穿透能力强</td>
</tr>
<tr>
<td><strong>关键技术</strong></td>
<td>扩频调制，抗干扰能力强</td>
<td>超窄带调制，抗干扰能力强</td>
<td>窄带调制，与现有LTE网络兼容</td>
</tr>
<tr>
<td><strong>网络拓扑结构</strong></td>
<td>星型或网状，可自组网或接入云端平台</td>
<td>星型，接入云端平台，提供全球性的网络服务</td>
<td>星型或网状，接入电信运营商的网络基站和云端平台</td>
</tr>
<tr>
<td><strong>频段</strong></td>
<td>免授权的ISM频段，如433MHz，470MHz等</td>
<td>免授权的ISM频段，如868MHz，915MHz等</td>
<td>授权频段，如800MHz，900MHz等</td>
</tr>
<tr>
<td><strong>带宽</strong></td>
<td>125-500KHz</td>
<td>&lt;100Hz</td>
<td>180KHz</td>
</tr>
<tr>
<td><strong>数据速率</strong></td>
<td>0.3-50kbps，可调节速率和距离</td>
<td>0.1kbps，固定速率和距离</td>
<td>200kbps以下，可调节速率和距离</td>
</tr>
<tr>
<td><strong>安全性</strong></td>
<td>AES加密算法，保证通信的安全性</td>
<td>AES加密算法，保证通信的安全性</td>
<td>AES加密算法，保证通信的安全性</td>
</tr>
<tr>
<td><strong>开放标准</strong></td>
<td>LoRaWAN协议栈，由LoRa联盟制定和管理</td>
<td>Sigfox协议栈，由Sigfox公司制定和管理</td>
<td>NB-IoT协议栈，由3GPP制定和管理</td>
</tr>
<tr>
<td><strong>电池寿命</strong></td>
<td>5-10年，受传输次数和数据量影响</td>
<td>10年以上，受传输次数和数据量影响</td>
<td>5-10年，受传输次数和数据量影响</td>
</tr>
<tr>
<td><strong>互操作性</strong></td>
<td>低，需要使用LoRaWAN协议栈和LoRa网关设备</td>
<td>高，可以与任何支持Sigfox技术的设备互操作³</td>
<td>高，可以与任何支持NB-IoT技术的设备互操作</td>
</tr>
<tr>
<td><strong>部署成本</strong></td>
<td>中等，需要购买和安装LoRa网关设备</td>
<td>低，无需自行部署网络基站或网关设备</td>
<td>中等至高，需要购买和安装NB-IoT模块，并依赖电信运营商的网络覆盖</td>
</tr>
<tr>
<td><strong>维护成本</strong></td>
<td>中等，需要管理和维护LoRa网关设备和网络</td>
<td>低，无需自行管理和维护网络基站或网关设备</td>
<td>中等至高，需要管理和维护NB-IoT模块，并依赖电信运营商的网络服务</td>
</tr>
<tr>
<td><strong>总成本</strong></td>
<td>中等至低，芯片成本低，无需付授权费用</td>
<td>中等至高，芯片成本低，需付月租费用</td>
<td>高，芯片成本高，需付授权费用</td>
</tr>
<tr>
<td><strong>适用场景</strong></td>
<td>适合于远距离、低速率、低功耗的物联网应用，如智能农业、智能停车、智能照明等</td>
<td>适合于远距离、极低速率、极低功耗的物联网应用，如资产追踪、环境监测、安防报警等</td>
<td>适合于远距离、低至中速率、低功耗的物联网应用，如智能水表、智能电表、智能燃气表等</td>
</tr>
</tbody></table>
<h2 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h2><h3 id="WiFi标准"><a href="#WiFi标准" class="headerlink" title="WiFi标准"></a>WiFi标准</h3><p>Wi-Fi标准是一组IEEE 802.11系列规范，用于定义无线局域网络（Wi-Fi）的技术和协议。以下是一些主要的Wi-Fi标准，以及它们的详细解释：</p>
<table>
<thead>
<tr>
<th>Wi-Fi标准</th>
<th>速度</th>
<th>频段</th>
<th>特点</th>
</tr>
</thead>
<tbody><tr>
<td><strong>802.11b</strong></td>
<td>最高11 Mbps</td>
<td>2.4 GHz</td>
<td>802.11b是第一个广泛采用的Wi-Fi标准，使用2.4 GHz频段和DSSS调制技术。虽然速度较低，但为Wi-Fi技术的发展铺平了道路。</td>
</tr>
<tr>
<td><strong>802.11a</strong></td>
<td>最高54 Mbps</td>
<td>5 GHz</td>
<td>802.11a是第一个在5 GHz频段上运行的Wi-Fi标准，提供更高的速度和更少的干扰，但覆盖范围较小。</td>
</tr>
<tr>
<td><strong>802.11g</strong></td>
<td>最高54 Mbps</td>
<td>2.4 GHz</td>
<td>802.11g标准兼容802.11b，提供了更高的速度，并在2.4 GHz频段上成为主流Wi-Fi技术。</td>
</tr>
<tr>
<td><strong>802.11n (Wi-Fi 4)</strong></td>
<td>最高600 Mbps</td>
<td>2.4 GHz和5 GHz</td>
<td>802.11n引入了MIMO技术，提供更高的速度和更好的覆盖范围，可在2.4 GHz和5 GHz频段上运行。</td>
</tr>
<tr>
<td><strong>802.11ac (Wi-Fi 5)</strong></td>
<td>最高1.3 Gbps</td>
<td>5 GHz</td>
<td>802.11ac进一步提高了速度，使用更多的MIMO流和更宽的信道宽度，通常在5 GHz频段上运行。</td>
</tr>
<tr>
<td><strong>802.11ax (Wi-Fi 6)</strong></td>
<td>最高10 Gbps</td>
<td>2.4 GHz和5 GHz</td>
<td>802.11ax引入了OFDMA和MU-MIMO等技术，旨在提供更高的速度和性能，减少网络拥塞。</td>
</tr>
<tr>
<td><strong>802.11ay</strong></td>
<td>最高20 Gbps</td>
<td>60 GHz</td>
<td>802.11ay是在60 GHz频段上运行的Wi-Fi标准，提供极高的速度，适用于高速数据传输和低延迟的场景。</td>
</tr>
<tr>
<td><strong>802.11ad</strong></td>
<td>最高7 Gbps</td>
<td>60 GHz</td>
<td>802.11ad是WiGig标准的前身，也在60 GHz频段上运行，用于高速数据传输，例如无线视频传输。</td>
</tr>
</tbody></table>
<blockquote>
<p>每个Wi-Fi标准都引入了不同的技术和改进，以适应不同的应用场景和需求。用户可以根据其设备和网络需求选择合适的Wi-Fi标准来获得最佳性能和覆盖范围。值得注意的是，Wi-Fi联盟通常会对这些标准进行认证，并使用术语如“Wi-Fi 4”（802.11n）、“Wi-Fi 5”（802.11ac）和“Wi-Fi 6”（802.11ax）来标识不同的标准版本。</p>
</blockquote>
<h3 id="蓝牙配置文件"><a href="#蓝牙配置文件" class="headerlink" title="蓝牙配置文件"></a>蓝牙配置文件</h3><p>蓝牙配置文件是一组规范，用于定义蓝牙设备之间的通信方式和规则，以确保设备可以互操作并正确执行特定任务。每个配置文件都是一种蓝牙应用的规范，定义了特定用途的设备之间的通信协议。以下是一些常见的蓝牙配置文件和它们的主要功能：</p>
<table>
<thead>
<tr>
<th>蓝牙配置文件名称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Hands-Free Profile（HFP</strong>）</td>
<td>用于蓝牙耳机、车载通话设备和手机之间的通信，定义了音频和电话控制的交换方式。</td>
</tr>
<tr>
<td><strong>Advanced Audio Distribution Profile（A2DP）</strong></td>
<td>允许高质量音频从蓝牙源设备传输到蓝牙接收设备，支持立体声音频和音频控制。</td>
</tr>
<tr>
<td><strong>Audio/Video Remote Control Profile（AVRCP）</strong></td>
<td>扩展了A2DP，允许蓝牙设备进行音频和视频控制，如播放、暂停、跳过和音量调节等。</td>
</tr>
<tr>
<td><strong>Object Push Profile（OPP）</strong></td>
<td>用于在蓝牙设备之间交换个人数据、照片、联系人和文件，类似于传统的文件传输协议。</td>
</tr>
<tr>
<td><strong>File Transfer Profile（FTP）</strong></td>
<td>用于文件传输，提供了更丰富的文件管理功能，包括文件夹创建、重命名和删除等。</td>
</tr>
<tr>
<td><strong>Human Interface Device Profile（HID）</strong></td>
<td>用于连接蓝牙键盘、鼠标、游戏控制器等输入设备到计算机或其他蓝牙主机，允许模拟标准输入设备。</td>
</tr>
<tr>
<td><strong>Heart Rate Profile（HRP）</strong></td>
<td>用于蓝牙心率监测设备，与手机或其他设备之间的通信，用于心率传感器和智能手表等设备。</td>
</tr>
<tr>
<td><strong>Health Device Profile（HDP）</strong></td>
<td>用于健康监测设备，与医疗设备或移动应用之间的通信，适用于血压计、血糖仪和体重秤等设备。</td>
</tr>
<tr>
<td><strong>Generic Attribute Profile（GATT）</strong></td>
<td>不是单个配置文件，而是一种通用框架，用于定义自定义服务和特征，适用于各种应用，包括智能家居、物联网和可穿戴设备。</td>
</tr>
</tbody></table>
<p>这些是蓝牙配置文件的一些示例，每个配置文件都定义了一组特定的规则和协议，以便不同类型的蓝牙设备能够相互通信和交换数据。根据应用需求，开发者可以选择合适的配置文件来确保蓝牙设备之间的兼容性和互操作性。</p>
<h3 id="星型拓扑"><a href="#星型拓扑" class="headerlink" title="星型拓扑"></a>星型拓扑</h3><p>星型拓扑是一种计算机网络结构，其中所有设备都直接连接到一个中央节点或中心点，通常称为”中继器”、”集线器”或”交换机”。在星型拓扑中，所有数据流量都通过中心节点进行传输和管理。这种网络结构具有以下特点：</p>
<ol>
<li><p><strong>中心控制</strong>：星型拓扑的中心节点具有控制权，它决定了数据流量的路由和管理。这种结构使得网络的配置和管理相对容易，因为所有设备都通过中心节点连接。</p>
</li>
<li><p><strong>独立通信</strong>：在星型拓扑中，设备之间的通信是独立的。这意味着如果一个设备要与另一个设备通信，数据必须经过中心节点传输，然后由中心节点重新分发给目标设备。</p>
</li>
<li><p><strong>容易维护</strong>：由于所有设备都连接到中心节点，因此添加、删除或维护设备相对容易。不会对整个网络产生太大的干扰，只需处理相关的设备即可。</p>
</li>
<li><p><strong>单点故障</strong>：星型拓扑的一个主要缺点是中心节点是单点故障。如果中心节点出现故障或中断，整个网络可能会受到影响，因为没有直接通信路径可用于设备之间的通信。</p>
</li>
<li><p><strong>性能和扩展性</strong>：星型拓扑的性能通常受到中心节点的容量和处理能力的限制。如果需要连接大量设备，中心节点可能成为瓶颈，因此可能需要考虑使用更复杂的网络拓扑结构，如树型拓扑或网状拓扑。</p>
</li>
</ol>
<blockquote>
<p>星型拓扑通常用于小型到中型规模的局域网（LAN）或家庭网络，其中设备数量相对较少，而且维护相对容易。但对于大规模网络或需要高度容错性的应用来说，可能需要考虑其他拓扑结构，以减少单点故障的影响。</p>
</blockquote>
<h3 id="扩频调制"><a href="#扩频调制" class="headerlink" title="扩频调制"></a>扩频调制</h3><p>扩频调制（Spread Spectrum Modulation）是一种无线通信技术，其主要目的是提高通信系统的抗干扰性、隐蔽性和安全性。<br>扩频调制通过在信号中引入具有较高带宽的调制信号，将原始信息信号进行扩频，从而使信号更分散，难以被未经授权的接收器检测和干扰。<br>扩频调制有两种主要类型：</p>
<ul>
<li>直接序列扩频（Direct Sequence Spread Spectrum，DSSS）</li>
<li>频率跳变扩频（Frequency Hopping Spread Spectrum，FHSS）</li>
</ul>
<table>
<thead>
<tr>
<th>扩频技术</th>
<th>直接序列扩频（DSSS）</th>
<th>频率跳变扩频（FHSS）</th>
</tr>
</thead>
<tbody><tr>
<td><strong>工作原理</strong></td>
<td>使用伪随机序列（扩频码）将原始数据信号扩展，接收端通过知道正确的扩频码进行解扩，还原原始信号。</td>
<td>频繁改变载波频率，通信信号在不同频率上传输，形成频率序列。接收器知道频率跳变规律，以正确接收数据。</td>
</tr>
<tr>
<td><strong>抗干扰性</strong></td>
<td>强，通过选择不同的伪随机序列提高抗干扰性。</td>
<td>强，对窄带干扰具有很强的抵抗力，因为干扰信号只在狭窄频率带宽内工作。</td>
</tr>
<tr>
<td><strong>应用</strong></td>
<td>无线局域网（Wi-Fi）、蓝牙等通信标准，以增加通信的隐蔽性和安全性。</td>
<td>军事通信和一些工业应用中，因为它具有良好的隐蔽性和抗干扰性。</td>
</tr>
<tr>
<td><strong>特点</strong></td>
<td>扩频增益大，抗干扰能力强，需要较高的同步精度和较大的发射功率。</td>
<td>抗多径衰落能力强，不需要较大的发射功率，扩频增益小，抗干扰能力弱。</td>
</tr>
</tbody></table>
<blockquote>
<p>扩频调制技术在实际应用中有助于提高通信系统的可靠性、抗干扰性和安全性，尤其是在嘈杂或恶劣的通信环境下。它也常用于无线局域网、蓝牙、军事通信和物联网等领域。</p>
</blockquote>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        Author:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Sparrow You</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        Link:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://sparrowyou.github.io/2023/09/28/network-protocol/">http://sparrowyou.github.io/2023/09/28/network-protocol/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        Reprint policy:
                    </i>
                </span>
                <span class="reprint-info">
                    All articles in this blog are used except for special statements
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    reprint policy. If reproduced, please indicate source
                    <a href="/about" target="_blank">Sparrow You</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E9%80%9A%E4%BF%A1/">
                                    <span class="chip bg-color">通信</span>
                                </a>
                            
                                <a href="/tags/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/">
                                    <span class="chip bg-color">网络协议</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/2023/09/28/stm32-study-note/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/11.jpg" class="responsive-img" alt="STM32学习">
                        
                        <span class="card-title">STM32学习</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2023-09-28
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            Sparrow You
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/">
                        <span class="chip bg-color">嵌入式</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2023/03/22/markdown-study-note/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/9.jpg" class="responsive-img" alt="Markdown语法">
                        
                        <span class="card-title">Markdown语法</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2023-03-22
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            Sparrow you
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>


  <!-- 是否加载使用自带的 prismjs. -->
  <script type="text/javascript" src="/libs/prism/prism.min.js"></script>


<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="/libs/aplayer/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2023</span>
            
            <a href="/about" target="_blank">Sparrow You</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;Total visits:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;Total visitors:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
                <span id="sitetime"> Loading ...</span>
                <script>
                    var calcSiteTime = function () {
                        var seconds = 1000;
                        var minutes = seconds * 60;
                        var hours = minutes * 60;
                        var days = hours * 24;
                        var years = days * 365;
                        var today = new Date();
                        var startYear = "2023";
                        var startMonth = "9";
                        var startDate = "28";
                        var startHour = "0";
                        var startMinute = "0";
                        var startSecond = "0";
                        var todayYear = today.getFullYear();
                        var todayMonth = today.getMonth() + 1;
                        var todayDate = today.getDate();
                        var todayHour = today.getHours();
                        var todayMinute = today.getMinutes();
                        var todaySecond = today.getSeconds();
                        var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                        var diff = t2 - t1;
                        var diffYears = Math.floor(diff / years);
                        var diffDays = Math.floor((diff / days) - diffYears * 365);

                        // 区分是否有年份.
                        var language = 'zh-cn';
                        if (startYear === String(todayYear)) {
                            document.getElementById("year").innerHTML = todayYear;
                            var daysTip = 'This site has been running for ' + diffDays + ' days';
                            if (language === 'zh-CN') {
                                daysTip = '本站已运行 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                daysTip = '本站已運行 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = daysTip;
                        } else {
                            document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                            var yearsAndDaysTip = 'This site has been running for ' + diffYears + ' years and '
                                + diffDays + ' days';
                            if (language === 'zh-CN') {
                                yearsAndDaysTip = '本站已运行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                yearsAndDaysTip = '本站已運行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = yearsAndDaysTip;
                        }
                    }

                    calcSiteTime();
                </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/sparrowyou" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:3259992548@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=3259992548" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 3259992548" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
